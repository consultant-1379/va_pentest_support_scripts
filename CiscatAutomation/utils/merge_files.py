
import os

def merge_files(directory, merge_file_name):
    with open(merge_file_name, 'w') as outfile:
        for filename in os.listdir(directory):
            # Split the path in head and tail pair
            head_tail = os.path.split(filename)
            # print tail part of the path
            print(head_tail[1])
            file_path = os.path.join(directory, filename)
            if os.path.isfile(file_path):
                with open(file_path, 'r') as infile:
                    outfile.write(f'#### Host scanning for : {head_tail[1]} ####\n')
                    outfile.write(infile.read() + '\n')


if __name__ == '__main__':
    merge_files('C:\\Users\\EENRMUS\\scriptCiscat\\resources\\pENM\\429\\ctp', 'C:\\Users\\EENRMUS\\scriptCiscat\\resources\\pENM\\429\\all_ctp_logs.txt')
